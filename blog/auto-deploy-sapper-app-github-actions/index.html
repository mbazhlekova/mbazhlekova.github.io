<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.1509265323.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Automatically deploy your Sapper app to GitHub Pages with GitHub Actions</title><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-o7nrbl><ul class=svelte-o7nrbl><li class=svelte-o7nrbl><a href=. class=svelte-o7nrbl>home </a></li> <li class=svelte-o7nrbl><a href=about class=svelte-o7nrbl>about </a></li> <li class=svelte-o7nrbl><a href=blog class=svelte-o7nrbl aria-current=page rel=prefetch>blog </a></ul></nav> <main class=svelte-cuizgm> <h1>Automatically deploy your Sapper app to GitHub Pages with GitHub Actions</h1> <div class="content svelte-rp6d9m"><img alt=drawing src="https://lh3.googleusercontent.com/pw/ACtC-3fWiXqjaUtfEJTfeA4pwqST95J1eKtbnWqej7LM2-qDSSf60c0C4v_Cka9sbJJZN4-2kcf_i-ISPS1NZsLNo2C_IMryToOE6X8KJnntfafwv62nCoyjVLDNbfhCYyrwtS5pw3_gZ5UhcNzPiH8X_74=w880-h440-no?authuser=0" width=800> <p>Recently, I decided to update my personal website and blog. I like to learn new things through personal projects so I decided to use <a href=https://sapper.svelte.dev/ >Sapper</a>, a server-side rendered framework for <a href=https://svelte.dev/ >Svelte</a>.</p> <p>After building my Sapper blog, I deployed it to GitHub Pages manually by running a script to push the compiled code to the branch deployed on my GitHub Pages site. But there were a few times when I forgot to deploy changes and found the manual process cumbersome. Enter GitHub Actions.</p> <h2 id=what-are-github-actions>What are GitHub Actions?</h2> <p>GitHub Actions allow you to automate parts of your workflow directly from GitHub. Setting up a GitHub Action to automatically deploy changes to your Sapper app to GitHub Pages is really easy!</p> <p>To create a build and deploy actions, first you'll need to generate a Personal Access Token and save it in your secrets.</p> <p>Go <a href=https://github.com/settings/tokens>here</a> to generate a token</p> <p>The go to your repository, select <strong>'Settings'</strong> and then <strong>'Secrets'</strong> from the left hand menu. There you can store the token you just created. I went with 'GITHUB' as the name for my secret but you can name it whatever you want.</p> <p>Next create a <code>.github</code> directory in your project and in it a <code>workflows</code> directory with a <code>main.yml</code> file.</p> <p>Here's the script to copy into the main.yml file:</p> <pre class=language-javascriptreact><code><span class=hljs-attr>name:</span> <span class=hljs-string>Build</span> <span class=hljs-string>and</span> <span class=hljs-string>Deploy</span>
<span class=hljs-attr>on:</span>
  <span class=hljs-attr>push:</span>
    <span class=hljs-attr>branches:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>develop</span> <span class=hljs-comment># Replace with name of your main branch</span>
<span class=hljs-attr>jobs:</span>
  <span class=hljs-attr>build-and-deploy:</span>
    <span class=hljs-attr>runs-on:</span> <span class=hljs-string>ubuntu-latest</span>
    <span class=hljs-attr>steps:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Checkout</span>
        <span class=hljs-attr>uses:</span> <span class=hljs-string>actions/checkout@v2</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-attr>persist-credentials:</span> <span class=hljs-literal>false</span>

      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Use</span> <span class=hljs-string>Node.js</span> <span class=hljs-string>'12.x'</span>
        <span class=hljs-attr>uses:</span> <span class=hljs-string>actions/setup-node@v1</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-attr>node-version:</span> <span class=hljs-string>"12.x"</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>run:</span> <span class=hljs-string>npm</span> <span class=hljs-string>install</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>run:</span> <span class=hljs-string>npm</span> <span class=hljs-string>run</span> <span class=hljs-string>export</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Build</span> <span class=hljs-string>and</span> <span class=hljs-string>Deploy</span>
        <span class=hljs-attr>uses:</span> <span class=hljs-string>JamesIves/github-pages-deploy-action@releases/v3</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-attr>ACCESS_TOKEN:</span> <span class=hljs-string>${{</span> <span class=hljs-string>secrets.GITHUB</span> <span class=hljs-string>}}</span>
          <span class=hljs-attr>BRANCH:</span> <span class=hljs-string>master</span> <span class=hljs-comment># Replace with name of branch deployed to GH Pages</span>
          <span class=hljs-attr>FOLDER:</span> <span class=hljs-string>__sapper__/export</span></code></pre><p>A few things to note, I work off the <code>develop</code> branch and have <code>master</code> deployed to GitHub Pages. In the above script, replace the values with your branch names.</p> <p>And that's it! ðŸŽ‰ Now when you push changes to your main branch, they'll automatically be deployed to GitHub Pages.</p> </div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{html:"\u003Cimg src=\"https:\u002F\u002Flh3.googleusercontent.com\u002Fpw\u002FACtC-3fWiXqjaUtfEJTfeA4pwqST95J1eKtbnWqej7LM2-qDSSf60c0C4v_Cka9sbJJZN4-2kcf_i-ISPS1NZsLNo2C_IMryToOE6X8KJnntfafwv62nCoyjVLDNbfhCYyrwtS5pw3_gZ5UhcNzPiH8X_74=w880-h440-no?authuser=0\" alt=\"drawing\" width=\"800\"\u002F\u003E\n\n\u003Cp\u003ERecently, I decided to update my personal website and blog. I like to learn new things through personal projects so I decided to use \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\"\u003ESapper\u003C\u002Fa\u003E, a server-side rendered framework for \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002F\"\u003ESvelte\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter building my Sapper blog, I deployed it to GitHub Pages manually by running a script to push the compiled code to the branch deployed on my GitHub Pages site. But there were a few times when I forgot to deploy changes and found the manual process cumbersome. Enter GitHub Actions.\u003C\u002Fp\u003E\n\u003Ch2 id=\"what-are-github-actions\"\u003EWhat are GitHub Actions?\u003C\u002Fh2\u003E\n\u003Cp\u003EGitHub Actions allow you to automate parts of your workflow directly from GitHub. Setting up a GitHub Action to automatically deploy changes to your Sapper app to GitHub Pages is really easy!\u003C\u002Fp\u003E\n\u003Cp\u003ETo create a build and deploy actions, first you&#39;ll need to generate a Personal Access Token and save it in your secrets.\u003C\u002Fp\u003E\n\u003Cp\u003EGo \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsettings\u002Ftokens\"\u003Ehere\u003C\u002Fa\u003E to generate a token\u003C\u002Fp\u003E\n\u003Cp\u003EThe go to your repository, select \u003Cstrong\u003E&#39;Settings&#39;\u003C\u002Fstrong\u003E and then \u003Cstrong\u003E&#39;Secrets&#39;\u003C\u002Fstrong\u003E from the left hand menu. There you can store the token you just created. I went with &#39;GITHUB&#39; as the name for my secret but you can name it whatever you want.\u003C\u002Fp\u003E\n\u003Cp\u003ENext create a \u003Ccode\u003E.github\u003C\u002Fcode\u003E directory in your project and in it a \u003Ccode\u003Eworkflows\u003C\u002Fcode\u003E directory with a \u003Ccode\u003Emain.yml\u003C\u002Fcode\u003E file.\u003C\u002Fp\u003E\n\u003Cp\u003EHere&#39;s the script to copy into the main.yml file:\u003C\u002Fp\u003E\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EBuild\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eand\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EDeploy\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Eon:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Epush:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebranches:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Edevelop\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E# Replace with name of your main branch\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ejobs:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebuild-and-deploy:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eruns-on:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eubuntu-latest\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Esteps:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003ECheckout\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Euses:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eactions\u002Fcheckout@v2\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003Epersist-credentials:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EUse\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003ENode.js\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;12.x&#x27;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Euses:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eactions\u002Fsetup-node@v1\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003Enode-version:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;12.x&quot;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Erun:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Enpm\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Einstall\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Erun:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Enpm\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Erun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eexport\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EBuild\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eand\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EDeploy\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Euses:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EJamesIves\u002Fgithub-pages-deploy-action@releases\u002Fv3\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EACCESS_TOKEN:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E${{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Esecrets.GITHUB\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E}}\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EBRANCH:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Emaster\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E# Replace with name of branch deployed to GH Pages\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EFOLDER:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E__sapper__\u002Fexport\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EA few things to note, I work off the \u003Ccode\u003Edevelop\u003C\u002Fcode\u003E branch and have \u003Ccode\u003Emaster\u003C\u002Fcode\u003E deployed to GitHub Pages. In the above script, replace the values with your branch names.\u003C\u002Fp\u003E\n\u003Cp\u003EAnd that&#39;s it! ðŸŽ‰ Now when you push changes to your main branch, they&#39;ll automatically be deployed to GitHub Pages.\u003C\u002Fp\u003E\n",slug:"auto-deploy-sapper-app-github-actions",title:"Automatically deploy your Sapper app to GitHub Pages with GitHub Actions",date:"September 3, 2020"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.4a4aa3b2.js"}catch(e){main="/client/legacy/client.e782301d.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 