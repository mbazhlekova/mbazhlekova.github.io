{"html":"<img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fWiXqjaUtfEJTfeA4pwqST95J1eKtbnWqej7LM2-qDSSf60c0C4v_Cka9sbJJZN4-2kcf_i-ISPS1NZsLNo2C_IMryToOE6X8KJnntfafwv62nCoyjVLDNbfhCYyrwtS5pw3_gZ5UhcNzPiH8X_74=w880-h440-no?authuser=0\" alt=\"drawing\" width=\"800\"/>\n\n<p>Recently, I decided to update my personal website and blog. I like to learn new things through personal projects so I decided to use <a href=\"https://sapper.svelte.dev/\">Sapper</a>, a server-side rendered framework for <a href=\"https://svelte.dev/\">Svelte</a>.</p>\n<p>After building my Sapper blog, I deployed it to GitHub Pages manually by running a script to push the compiled code to the branch deployed on my GitHub Pages site. But there were a few times when I forgot to deploy changes and found the manual process cumbersome. Enter GitHub Actions.</p>\n<h2 id=\"what-are-github-actions\">What are GitHub Actions?</h2>\n<p>GitHub Actions allow you to automate parts of your workflow directly from GitHub. Setting up a GitHub Action to automatically deploy changes to your Sapper app to GitHub Pages is really easy!</p>\n<p>To create a build and deploy actions, first you&#39;ll need to generate a Personal Access Token and save it in your secrets.</p>\n<p>Go <a href=\"https://github.com/settings/tokens\">here</a> to generate a token</p>\n<p>The go to your repository, select <strong>&#39;Settings&#39;</strong> and then <strong>&#39;Secrets&#39;</strong> from the left hand menu. There you can store the token you just created. I went with &#39;GITHUB&#39; as the name for my secret but you can name it whatever you want.</p>\n<p>Next create a <code>.github</code> directory in your project and in it a <code>workflows</code> directory with a <code>main.yml</code> file.</p>\n<p>Here&#39;s the script to copy into the main.yml file:</p>\n<pre class='language-javascriptreact'><code><span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Build</span> <span class=\"hljs-string\">and</span> <span class=\"hljs-string\">Deploy</span>\n<span class=\"hljs-attr\">on:</span>\n  <span class=\"hljs-attr\">push:</span>\n    <span class=\"hljs-attr\">branches:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">develop</span> <span class=\"hljs-comment\"># Replace with name of your main branch</span>\n<span class=\"hljs-attr\">jobs:</span>\n  <span class=\"hljs-attr\">build-and-deploy:</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Checkout</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v2</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">persist-credentials:</span> <span class=\"hljs-literal\">false</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Use</span> <span class=\"hljs-string\">Node.js</span> <span class=\"hljs-string\">&#x27;12.x&#x27;</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/setup-node@v1</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">node-version:</span> <span class=\"hljs-string\">&quot;12.x&quot;</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">npm</span> <span class=\"hljs-string\">install</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">npm</span> <span class=\"hljs-string\">run</span> <span class=\"hljs-string\">export</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Build</span> <span class=\"hljs-string\">and</span> <span class=\"hljs-string\">Deploy</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">JamesIves/github-pages-deploy-action@releases/v3</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">ACCESS_TOKEN:</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">secrets.GITHUB</span> <span class=\"hljs-string\">}}</span>\n          <span class=\"hljs-attr\">BRANCH:</span> <span class=\"hljs-string\">master</span> <span class=\"hljs-comment\"># Replace with name of branch deployed to GH Pages</span>\n          <span class=\"hljs-attr\">FOLDER:</span> <span class=\"hljs-string\">__sapper__/export</span></code></pre><p>A few things to note, I work off the <code>develop</code> branch and have <code>master</code> deployed to GitHub Pages. In the above script, replace the values with your branch names.</p>\n<p>And that&#39;s it! ðŸŽ‰ Now when you push changes to your main branch, they&#39;ll automatically be deployed to GitHub Pages.</p>\n","slug":"auto-deploy-sapper-app-github-actions","title":"Automatically deploy your Sapper app to GitHub Pages with GitHub Actions","date":"September 3, 2020"}